# `mapping` — трансформационное правило

## Что это такое

`mapping` — это архитектурная конструкция, описывающая **направленное преобразование конфигурации мышления, состояния или поведения** на основе совокупности факторов, условий и внутренней логики.

В отличие от простой `function`, `mapping` не выполняет вычисление в узком смысле. Это **карта перехода**: она включает в себя как **входные условия**, так и **правила интерпретации**, и **целевое состояние**. Это делает её идеальной для моделирования:
- переключений между состояниями (например, от перегруза к балансу),
- переходов между целями, режимами, ролями, фазами,
- запусков новых сценариев поведения или процессов мышления.

## В чём суть `mapping`

По сути, это **когнитивный узел перехода**, оформленный как:
- *если задан определённый контекст (внешний или внутренний)*,
- *и если выполнены определённые условия*,
- *то необходимо перейти к новой конфигурации системы мышления*,
- *через определённую функцию обработки и/или трансформации*.

`mapping` может быть:
- **реактивным** — срабатывающим при наступлении определённого триггера (`trigger`, `signal`);
- **проактивным** — запускающим сценарий переосмысления или переориентации (`goal_refactoring`, `identity_switch`);
- **структурным** — меняющим режим мышления, актуальные роли, активные параметры (`mode_shift`, `state_change`).

## Основные элементы, вовлечённые в `mapping`

`mapping` связывает между собой:
- **`context`** — внешние и внутренние условия, которые определяют актуальность перехода;
- **`param`** — дискретные параметры, которые могут измениться или быть активированы;
- **`state`** — агрегированные внутренние конфигурации, участвующие в расчёте логики перехода;
- **`modifiers`** — факторы, влияющие на ход трансформации: ускоряющие, тормозящие, искажающие;
- **`function`** — логика вычисления или принятия решения, часто многослойная, с внутренними подэтапами;
- **`produces` / `emits`** — результирующее состояние, набор действий, обновлённые параметры или состояния.

## Когда использовать

Используется в ситуациях, когда:
- необходимо **явно выразить переход от одного ментального состояния к другому**;
- нужно **сформировать план выхода из текущей конфигурации мышления**;
- требуется описать **взаимосвязь между факторами и результирующими стратегиями**;
- важно **представить трансформацию как управляемую структуру**, а не как спонтанное событие.

## Возможные ограничения

- `mapping` не является процедурой в привычном смысле — он **не должен описывать пошаговый алгоритм**, а именно **каркас перехода**, который может содержать внутри процедуры.
- Он **не обязателен для каждого изменения** — только для значимых сдвигов когнитивной архитектуры.
- Слишком "плоский" `mapping` (с одной функцией и без факторов) теряет смысл — он должен **объединять слои логики, контекста и выхода**.

## Аналогии

- В инженерии мышления `mapping` — это **мост между модулями состояния**.
- В архитектуре — это **точка смены логики функционирования**.
- В психологии — это **фрейм принятия решения, включающий мотивационные и контекстные переменные**.
- В системном мышлении — это **трансформационная петля**, переходящая от старой системы к новой.


## Кейс: Маппинг восстановления баланса между работой и семьёй

Это `mapping` описывает переход от состояния рабочего перекоса к более сбалансированной жизненной модели.  
Входной `context` содержит как объективные данные (часы, события), так и субъективные сигналы.  
`state` фиксирует наличие и направленность перекоса. 
`param` определяет, что значит быть «достаточным» в каждой роли — родителя и работника.  
`modifiers` отражают искажающие и поддерживающие факторы.  

Функция `compute_rebalance_path` представляет собой **встроенную когнитивную процедуру**, которая определяет, **как из состояния перегруза работой перейти к устойчивому балансу между жизненными ролями**.

Под капотом она включает несколько ментальных и аналитических шагов:
- **Анализ признаков перекоса** — оценка времени, событий, обратной связи от семьи и внутреннего состояния.
- **Сопоставление требований ролей** — что означает быть "достаточно хорошим" родителем и "эффективным" профессионалом.
- **Выявление точек воздействия** — где возможны изменения с минимальными потерями (делегирование, пересборка календаря).
- **Формирование маршрута действий** — конкретные шаги и приоритеты для восстановления баланса.
- **Настройка контуров обратной связи** — как понять, что изменения действительно сработали (семейное удовлетворение, снижение тревожности, контроль рабочих метрик).

Эта функция не просто "считает" — она **моделирует процесс мышления**, в котором учитываются внутренние состояния, внешние требования и динамика адаптации. В контексте DSL мышления она играет роль **конструктора ментальных переходов**.

Цель маппинга — не просто выявить проблему, а **сформировать реалистичный путь перехода**, выраженный через `produces`: смещение приоритетов и конкретный план корректировки поведения.

### DSL-thinking

```yaml

mapping work_family_balance_correction {                       # Маппинг восстановления баланса между работой и семьёй

  description: корректировка жизненного фокуса при явном перекосе в сторону работы

  context: {
    work_hours_per_week: 65,                                   # Объективно высокий объём нагрузки
    missed_family_events: 3,                                   # Упущенные важные семейные события
    partner_feedback: negative,                                # Негативная обратная связь от партнёра
    self_assessment: depleted                                  # Субъективное ощущение истощения и вины
  }

  state: imbalance_detected {
    direction: work_dominant,                                  # Выявлен доминирующий перекос в сторону работы
    severity: high,
    acknowledgment: true                                       # Человек осознаёт проблему
  }

  param: role_sufficiency_criteria {                            # Критерии достаточности выполнения ролевых обязанностей
    parent: [daily_presence, emotional_availability, shared_rituals],     # Что делает родительскую роль "удовлетворённой" — регулярное присутствие, эмоциональный контакт, общие ритуалы
    worker: [project_visibility, task_completion, stakeholder_updates]    # Что делает рабочую роль "выполненной" — заметность в проектах, завершение задач, коммуникация с заинтересованными сторонами
  }

  modifiers: {                                                 # отражают искажающие и поддерживающие факторы
    workaholism_bias: strong,                                  # Сильная склонность к трудоголизму и самоидентификации через работу
    family_value_salience: present_but_suppressed,             # Осознание ценности семьи присутствует, но вытеснено рабочими приоритетами
    recovery_window: narrow                                     # Возможности для изменения ограничены во времени и по ресурсам
  }

  function: compute_rebalance_path()                           # Функция вычисляет путь восстановления баланса между ролями

  produces: {        
              
    priority_shifts: {
      work_hours_target: <= 45,                                 # Цель — снизить рабочую нагрузку до устойчивого уровня
      family_touchpoints: [daily_checkin,                       # Ежедневный контакт — даже краткий, но обязательный
                           sunday_ritual,                       # Совместный еженедельный ритуал — например, прогулка или ужин
                           school_pickup]                       # Включение в рутинные семейные процессы — подвоз из школы как способ включённости
    },
    mitigation_plan: [delegate_noncritical_tasks,              # Делегирование второстепенных рабочих задач
                      restructure_calendar,                    # Перестройка графика
                      set_family_anchors]                      # Закрепление обязательных семейных точек внимания
  }

}

```
---

## Кейс : Маппинг переосмысления цели в условиях неопределённости

Это `mapping` отражает внутреннюю операцию пересборки цели — **когда внешние условия делают изначальный план неосуществимым или рискованным**, но полная отмена цели воспринимается как внутренняя потеря.

`context` фиксирует исходную цель, её конфликты с текущей реальностью и эмоциональный фон.  
`state` показывает уровень когерентности между целью и жизненной ситуацией.  
`param` определяет качества, которыми должна обладать новая цель, чтобы быть «живой» и реалистичной.  
`modifiers` указывают на искажающие влияния (например, **sunk cost bias**) и внутренние ресурсы для адаптации.

Функция `recompute_goal_vector()` действует как **когнитивный навигатор** — она не просто меняет цель, а **вычисляет новую точку притяжения**, оставаясь в пределах возможного и значимого.

В результате `mapping` производит **переориентировку вектора**: сохраняются смысловые опоры, но корректируются действия, временные горизонты и степень трансформации. Это позволяет **не терять цель целиком, а модифицировать её форму под новые условия**.

### DSL-thinking

```yaml

mapping goal_refactoring_under_uncertainty {                    # Маппинг переосмысления цели при изменившихся условиях

  description: адаптация жизненной или карьерной цели под влияние новых ограничений и возможностей

  context: {
    initial_goal: transition_to_creative_field,                 # Изначальная цель — сменить профессию на творческую
    external_disruptors: [economic_instability, family_care_needs],  # Сильные внешние ограничители: экономическая нестабильность, потребности семьи
    time_horizon_shifted: true,                                 # Временные рамки реализации цели сдвинулись
    emotional_signal: persistent_dissonance                     # Субъективное чувство несоответствия между целью и текущей реальностью
  }

  state: goal_alignment_status {
    coherence_level: low,                                       # Цель плохо согласуется с текущими условиями жизни
    identity_attachment: moderate                               # Есть привязанность к цели, но она уже подвергается сомнению
  }

  param: goal_design_criteria {                                 # Критерии того, какой должна быть "живая" цель
    values: [meaningful, feasible, energizing, aligned_with_context]
  }

  modifiers: {
    sunk_cost_bias: present,                                    # Влияние эффекта невозвратных вложений (потраченное время, курсы, усилия)
    adaptability_capacity: moderate_to_high,                    # Готовность к переосмыслению цели присутствует
    support_network: limited                                    # Недостаток внешней поддержки затрудняет гибкость
  }

  function: recompute_goal_vector()                             # Функция перерасчёта направления цели на основе текущего ландшафта

  produces: {
    updated_goal: adjacent_possible_variant,                    # Новая цель в смежной области (например, внутри текущей профессии)
    retained_values: [creativity, autonomy],                    # Смысловые опоры, сохранённые из исходной цели
    roadmap_shift: [delay_major_change,                         # Перенос основного изменения
                    test_microprojects,                         # Проверка творческих гипотез малыми шагами
                    reassess_in_3_months]                       # Установка точки повторной проверки в будущем
  }

}

```
---


## Кейс: Маппинг прерывания инфоцикла при когнитивной перегрузке

Этот `mapping` моделирует **внутреннюю реакцию на перегруз информационным шумом**, который проявляется в виде когнитивного конфликта:  
**«я должен быть в курсе» ↔ «я хочу сохранить фокус»**.

`trigger` активируется при накоплении признаков расфокусировки, 
`loop` фиксирует повторяющийся паттерн чрезмерного потребления.  
`modifiers` (например, FOMO) усиливают замыкание цикла, 
а функция `break_consumption_cycle()` инициирует **структурный разрыв петли** и переход в режим смысловой очистки.  
`produces` задаёт альтернативный паттерн — ограниченное потребление, смысловые фильтры и практики восстановления.

### DSL-thinking

```yaml

mapping break_info_overload_loop {                             # Маппинг разрыва петли информационного перегруза

  description: переход от повторяющегося паттерна расфокусировки к устойчивому информационному режиму

  trigger: {                                                   # Триггеры активации маппинга
    pattern_detected: consumption_loop_exceeded,               # Распознана устойчивая повторяющаяся схема бесконтрольного потребления
    signal_intensity: high,                                    # Эмоциональные и когнитивные сигналы достигли тревожного уровня
    internal_conflict: stay_informed vs preserve_focus         # Внутренний конфликт между потребностью знать и желанием сохранить ментальный покой
  }

  loop: attention_drift_cycle {                                # Цикл, в котором застряло внимание
    pattern: input_spike → scanning → partial_reward → more_input → depletion
    # Входной стимул → бессистемный просмотр → ощущение кратковременного удовлетворения → жажда нового → истощение
  }

  context: {                                                    # Актуальные параметры окружения и поведения
    media_inputs: [news, social_feeds, chat_noise],            # Основные источники информационного давления
    average_session: 7min,                                     # Средняя длительность эпизода потребления
    interruptions_per_hour: 15                                 # Частота отвлечений в течение часа
  }

  state: attentional_integrity {                               # Текущее внутреннее состояние внимания
    stability: low,                                            # Внимание нестабильно
    mental_fatigue: high,                                      # Уровень ментальной усталости высок
    coherence_loss: progressing                                # Ощущение смысловой рассыпчатости усиливается
  }

  modifiers: {                                                  # Факторы, усиливающие или препятствующие изменению
    fomo_bias: strong,                                         # Сильный страх упустить важное (FOMO)
    novelty_seeking: persistent,                               # Постоянная тяга к новизне удерживает в цикле
    filtering_habits: undeveloped                              # Навыки смысловой фильтрации отсутствуют или слабо развиты
  }

  function: break_consumption_cycle()                          # Функция, инициирующая остановку цикла и структурную перенастройку

  produces: {                                                   # Результаты маппинга — новая конфигурация поведения и мониторинга
    new_protocol: [
      scheduled_scan_windows,                                  # Установка чётких временных окон для потребления информации
      high_noise_channel_mute,                                 # Отключение каналов, не несущих смысловой ценности
      pre-task attention reset                                 # Ритуал перезагрузки фокуса перед рабочими задачами
    ],

    monitor_points: [
      anxiety_drop_check,                                      # Отслеживание снижения тревожности
      focus_block_lengthening,                                 # Увеличение продолжительности сосредоточенных периодов
      qualitative_reflection_prompts                           # Возвращение способности к глубокому размышлению без внешней стимуляции
    ]
  }

}
```

### Пояснение:

Этот `mapping` описывает **не просто раздражение от шума**, а структурное когнитивное состояние, в котором внимание застряло в **самоподдерживающемся цикле сканирования**.

- `trigger` выявляет **внутреннюю границу терпения и осознанный конфликт** между знанием и покоем.  
- `loop` фиксирует, **как именно работает паттерн перегруза**, включая микрономика поведения: стимул → быстрый просмотр → краткая награда → повтор.  
- `context` и `state` помогают зафиксировать как **поведенческие**, так и **субъективные параметры**, влияющие на активацию.  
- `modifiers` определяют **глубину встраивания привычки** — и тем самым сложность разрыва.  
- `function` инициирует **разрыв цикла** через включение новых структур (временные окна, ритуалы, фильтры).  
- `produces` фокусируется не просто на «сокращении времени в телефоне», а на **восстановлении когнитивной структуры**: фокус, контроль, мышление вне шума.

Такой `mapping` особенно ценен в архитектуре мышления, когда цель — **переподключить внимание к смысловым ядрам**, а не просто «ограничить потребление».


